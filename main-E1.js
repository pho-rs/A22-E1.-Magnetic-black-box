const _0x34bac0=_0x2d06;(function(_0xa96d70,_0x480773){const _0x40b997=_0x2d06,_0xa54c86=_0xa96d70();while(!![]){try{const _0x58c713=-parseInt(_0x40b997(0x222))/0x1+-parseInt(_0x40b997(0x204))/0x2*(-parseInt(_0x40b997(0x26a))/0x3)+-parseInt(_0x40b997(0x247))/0x4*(parseInt(_0x40b997(0x230))/0x5)+-parseInt(_0x40b997(0x256))/0x6+parseInt(_0x40b997(0x226))/0x7+-parseInt(_0x40b997(0x244))/0x8*(-parseInt(_0x40b997(0x229))/0x9)+parseInt(_0x40b997(0x254))/0xa*(-parseInt(_0x40b997(0x1ec))/0xb);if(_0x58c713===_0x480773)break;else _0xa54c86['push'](_0xa54c86['shift']());}catch(_0x40e860){_0xa54c86['push'](_0xa54c86['shift']());}}}(_0x19f7,0xc0d7f));let screen_width=window[_0x34bac0(0x1d6)],screen_height=window[_0x34bac0(0x1e9)],canvas_width,canvas_height,fps=0x1f4,updated=![],mobile;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x34bac0(0x1dc)](navigator[_0x34bac0(0x223)])?mobile=!![]:mobile=![];let canvas=document[_0x34bac0(0x20c)](_0x34bac0(0x24f)),context=canvas[_0x34bac0(0x20d)]('2d'),graph_canvas=document[_0x34bac0(0x20c)](_0x34bac0(0x258)),graph_context=graph_canvas['getContext']('2d'),b_display=document['getElementById'](_0x34bac0(0x1df)),error_display=document[_0x34bac0(0x20c)](_0x34bac0(0x1e7)),mob_angle=document[_0x34bac0(0x20c)]('mob-angle'),magnet_angle=document[_0x34bac0(0x20c)](_0x34bac0(0x259)),scale_angle=document[_0x34bac0(0x20c)]('scale-angle'),drop_button=document[_0x34bac0(0x20c)]('drop-button'),measure_button=document['getElementById'](_0x34bac0(0x264)),scale_button=document['getElementById'](_0x34bac0(0x249)),fine_button=document[_0x34bac0(0x20c)](_0x34bac0(0x28c)),coarser_button=document['getElementById'](_0x34bac0(0x27c)),simul_start_time_input=document[_0x34bac0(0x20c)](_0x34bac0(0x246)),simul_end_time_input=document['getElementById'](_0x34bac0(0x29f));mobile?canvas_width=0.9*screen_width:canvas_width=0.45*screen_width;canvas_height=1.2*canvas_width,canvas[_0x34bac0(0x294)]=canvas_width,canvas[_0x34bac0(0x285)]=canvas_height;let animate=function(_0x1d93f2){const _0x5669c2=_0x34bac0;window[_0x5669c2(0x24e)](_0x1d93f2,0x3e8/fps);};function step(){const _0x3217d8=_0x34bac0;!updated&&(update(),render());if(measuring){Bx_values[_0x3217d8(0x241)](clampNumber(B_x[_0x3217d8(0x2a2)](0x6))),By_values['push'](clampNumber(B_y[_0x3217d8(0x2a2)](0x6))),magnet_x_values['push'](magnet['x']*distance_multiplier),magnet_y_values[_0x3217d8(0x241)](magnet['y']*distance_multiplier),timestamps['push'](time),datatable[_0x3217d8(0x241)]([time,magnet['x']*distance_multiplier,magnet['y']*distance_multiplier,B_x,B_y]);if(time-Math['floor'](0x2*time)/0x2<0x1/fps)drawGraph(simul_start_time_input['value'],simul_end_time_input['value']);time+=dt,updateParams(_0x3217d8(0x253));}falling&&magnet[_0x3217d8(0x219)](),getMagn(B_x,B_y)<B_crit&&measuring?drop_button[_0x3217d8(0x1de)]=![]:drop_button[_0x3217d8(0x1de)]=!![],(falling||magnet[_0x3217d8(0x220)])&&(drop_button[_0x3217d8(0x1de)]=!![]),getMagn(B_x,B_y)>=B_crit&&(measuring&&falling&&measureToggle(),falling=![]),animate(step);}window['onload']=function(){const _0x289b94=_0x34bac0;initParams(),animate(step),time=0x0,updateParams(_0x289b94(0x253));};let click_x,click_y,pressed,shift_key_pressed,cntrl_key_pressed,is_cursor_on_canvas=![];mobile?(canvas[_0x34bac0(0x27a)](_0x34bac0(0x212),function(_0x3cb80b){const _0x42a004=_0x34bac0;getTouchPosition(canvas,_0x3cb80b);let _0x520657=_0x3cb80b[_0x42a004(0x1f6)][0x0],_0xbb41c6=new MouseEvent(_0x42a004(0x289),{'clientX':_0x520657['clientX'],'clientY':_0x520657['clientY']});canvas[_0x42a004(0x1e2)](_0xbb41c6),pressed=!![],clicked();},![]),canvas[_0x34bac0(0x27a)](_0x34bac0(0x257),function(_0x363500){const _0x48faba=_0x34bac0;getTouchPosition(canvas,_0x363500);let _0x38ef71=_0x363500[_0x48faba(0x1f6)][0x0],_0x375388=new MouseEvent(_0x48faba(0x266),{'clientX':_0x38ef71[_0x48faba(0x27f)],'clientY':_0x38ef71['clientY']});canvas[_0x48faba(0x1e2)](_0x375388),moved();},![]),canvas[_0x34bac0(0x27a)](_0x34bac0(0x1f8),function(_0x38448f){const _0x5b2464=_0x34bac0;getTouchPosition(canvas,_0x38448f);let _0x270ad7=_0x38448f['touches'][0x0],_0x418ed9=new MouseEvent(_0x5b2464(0x1e8),{'clientX':_0x270ad7[_0x5b2464(0x27f)],'clientY':_0x270ad7[_0x5b2464(0x214)]});canvas[_0x5b2464(0x1e2)](_0x418ed9),pressed=![],released();},![])):(canvas[_0x34bac0(0x27a)](_0x34bac0(0x289),function(_0x3d0f3b){getMousePosition(canvas,_0x3d0f3b),pressed=!![],clicked();}),canvas[_0x34bac0(0x27a)](_0x34bac0(0x266),function(_0x2f43cc){const _0xd76351=_0x34bac0;getMousePosition(canvas,_0x2f43cc),shift_key_pressed=_0x2f43cc[_0xd76351(0x205)],cntrl_key_pressed=_0x2f43cc[_0xd76351(0x262)],moved();}),canvas[_0x34bac0(0x27a)](_0x34bac0(0x1e8),function(_0x450364){getMousePosition(canvas,_0x450364),pressed=![],released();}),canvas[_0x34bac0(0x27a)](_0x34bac0(0x1ea),function(_0x5124b5){is_cursor_on_canvas=!![];}),canvas['addEventListener'](_0x34bac0(0x28e),function(_0x21fa84){is_cursor_on_canvas=![];}),window['addEventListener'](_0x34bac0(0x23f),function(_0x29971d){const _0x5ea3c9=_0x34bac0;is_cursor_on_canvas&&(keyPressed(_0x29971d[_0x5ea3c9(0x274)]),_0x29971d['preventDefault']());},![]),window[_0x34bac0(0x27a)](_0x34bac0(0x1ee),function(_0x31cb99){const _0x46e488=_0x34bac0;keyReleased(_0x31cb99[_0x46e488(0x274)]);},![]));function getMousePosition(_0x554219,_0x483235){const _0xb25074=_0x34bac0;rect=_0x554219['getBoundingClientRect'](),click_x=_0x483235['clientX']-rect[_0xb25074(0x1f3)],click_y=_0x483235['clientY']-rect[_0xb25074(0x22a)];}function getTouchPosition(_0x367fda,_0x31b97b){const _0x15000a=_0x34bac0;var _0x43da9e=_0x367fda['getBoundingClientRect']();click_x=_0x31b97b[_0x15000a(0x1f6)][0x0]['clientX']-_0x43da9e[_0x15000a(0x1f3)],click_y=_0x31b97b[_0x15000a(0x1f6)][0x0][_0x15000a(0x214)]-_0x43da9e[_0x15000a(0x22a)];}function measureToggle(){const _0x188009=_0x34bac0;!measuring?(measuring=!![],measure_button[_0x188009(0x295)]=_0x188009(0x27e)):(measuring=![],measure_button[_0x188009(0x295)]=_0x188009(0x1d5),drop_button[_0x188009(0x1de)]=![]);}const export_csv=(_0x176ae0,_0x28d836,_0x265176)=>{const _0x37c440=_0x34bac0;let _0x4e3b20=_0x37c440(0x273);_0x4e3b20+='Pipe\x20corner\x20points\x20as\x20(x,y)\x20,',pipe[_0x37c440(0x292)][_0x37c440(0x270)](_0x5c664f=>{const _0x19e4b5=_0x37c440;_0x4e3b20+=(_0x5c664f['x']*scaling_factor)[_0x19e4b5(0x21d)]()+','+(_0x5c664f['y']*scaling_factor)[_0x19e4b5(0x21d)]()+',';}),_0x4e3b20+='\x0a',_0x4e3b20+=_0x37c440(0x25a),_0x4e3b20+=_0x37c440(0x255)+(magnetometer['x']*scaling_factor)[_0x37c440(0x21d)]()+(magnetometer['x']*scaling_factor)[_0x37c440(0x21d)]()+'\x0a',_0x4e3b20+=_0x37c440(0x242)+scaling_factor[_0x37c440(0x21d)]()+'\x0a',_0x4e3b20+='t,\x20Mx,\x20My,\x20Bx,\x20By\x0a',_0x176ae0[_0x37c440(0x270)](_0x36a611=>{_0x4e3b20+=_0x36a611['join']()+'\x0a';});let _0x3be180=new Blob([_0x4e3b20],{'type':_0x37c440(0x208)}),_0xd1eb6a=URL['createObjectURL'](_0x3be180),_0x1bad44=document[_0x37c440(0x281)]('a');_0x1bad44[_0x37c440(0x1fd)]=_0xd1eb6a,_0x1bad44[_0x37c440(0x20a)]=_0x37c440(0x1f4),_0x1bad44[_0x37c440(0x1e0)]=_0x265176+_0x37c440(0x243),_0x1bad44['click']();};function scaleToggle(){const _0x505d24=_0x34bac0;!show_scale?(show_scale=!![],scale_button[_0x505d24(0x295)]=_0x505d24(0x27d)):(show_scale=![],scale_button['innerHTML']=_0x505d24(0x1fa)),updated=![];}function initGraph(){const _0x1de4c7=_0x34bac0;graph=new Chart(graph_context,{'type':_0x1de4c7(0x1e3),'data':{'labels':timestamps,'datasets':[{'label':_0x1de4c7(0x27b),'data':Bx_values,'backgroundColor':[_0x1de4c7(0x20e)],'borderColor':[_0x1de4c7(0x20e)],'color':[_0x1de4c7(0x20e)],'spanGaps':!![],'pointRadius':0x1,'pointHoverRadius':0x4,'borderWidth':0x1,'animation':![]},{'label':_0x1de4c7(0x21e),'data':By_values,'backgroundColor':[_0x1de4c7(0x268)],'borderColor':[_0x1de4c7(0x268)],'color':[_0x1de4c7(0x268)],'spanGaps':!![],'pointRadius':0x1,'pointHoverRadius':0x4,'borderWidth':0x1,'animation':![]}]},'options':{'spanGaps':!![],'scales':{'x':{'title':{'display':!![],'text':_0x1de4c7(0x239),'font':{'family':_0x1de4c7(0x272),'size':0x14},'color':_0x1de4c7(0x275)},'grid':{'color':[_0x1de4c7(0x20e)],'borderColor':_0x1de4c7(0x275),'lineWidth':0.25},'ticks':{'precision':0x2,'color':'white','fontColor':'white'}},'y':{'title':{'display':!![],'text':_0x1de4c7(0x224),'font':{'family':_0x1de4c7(0x272),'size':0x14},'color':_0x1de4c7(0x275)},'grid':{'color':[_0x1de4c7(0x20e)],'borderColor':_0x1de4c7(0x275),'lineWidth':0.25},'ticks':{'color':'white','fontColor':_0x1de4c7(0x275)}}},'plugins':{'tooltip':{'callbacks':{'label':function(_0x519886){const _0x5984ee=_0x1de4c7;return _0x5984ee(0x24c)+_0x519886[_0x5984ee(0x2a3)]['x']['toFixed'](0x3)+_0x5984ee(0x213)+_0x519886['parsed']['y'][_0x5984ee(0x2a2)](0x2)+_0x5984ee(0x271);}}},'legend':{'labels':{'color':'white','font':{'family':'calibri'}}}},'normalized':!![],'animation':![]}});}function drawGraph(_0xaec22,_0x13fcbf){const _0x19da6c=_0x34bac0;start_index=Math[_0x19da6c(0x288)](Math[_0x19da6c(0x284)](_0xaec22*fps),0x0),end_index=Math[_0x19da6c(0x22f)](Math[_0x19da6c(0x22b)](_0x13fcbf*fps),timestamps['length']),graph[_0x19da6c(0x1f7)]['labels']=timestamps[_0x19da6c(0x21b)](start_index,end_index),graph[_0x19da6c(0x1f7)]['datasets'][0x0][_0x19da6c(0x1f7)]=Bx_values[_0x19da6c(0x21b)](start_index,end_index),graph[_0x19da6c(0x1f7)]['datasets'][0x1][_0x19da6c(0x1f7)]=By_values[_0x19da6c(0x21b)](start_index,end_index),graph[_0x19da6c(0x1d7)]();}function resetGraph(){const _0x45216b=_0x34bac0;if(measuring)measureToggle();resetMeasurements();if(graph!==undefined)graph[_0x45216b(0x217)]();initGraph(),time=0x0;}class Magnet{constructor(_0x212efe,_0x4993ec,_0x34c56d,_0x555f0d){const _0x7b54a1=_0x34bac0;this[_0x7b54a1(0x20f)]=0.012,this['x']=_0x212efe,this['y']=_0x4993ec,this[_0x7b54a1(0x25d)]=0x1,this[_0x7b54a1(0x280)]=0x0,this[_0x7b54a1(0x294)]=_0x34c56d/scaling_factor,this[_0x7b54a1(0x285)]=_0x555f0d/scaling_factor,this[_0x7b54a1(0x25c)]=0x0,this[_0x7b54a1(0x21a)]=0x0,this[_0x7b54a1(0x220)]=![],this[_0x7b54a1(0x292)]=[],this[_0x7b54a1(0x234)]=[],this['makeRects'](),this[_0x7b54a1(0x233)]=![],this[_0x7b54a1(0x207)]=0x0,this[_0x7b54a1(0x245)]=0x0,this[_0x7b54a1(0x279)]=0x0,this['selected_y']=0x0,this[_0x7b54a1(0x237)]=this['x'],this[_0x7b54a1(0x286)]=this['y'],this[_0x7b54a1(0x263)]=this[_0x7b54a1(0x280)],this[_0x7b54a1(0x231)]=0x0,this['segment_x0']=this['x'],this[_0x7b54a1(0x25f)]=this['y'],this['segment_t0']=time,this['segment_v0y']=0x0,this[_0x7b54a1(0x280)]=0x0;}[_0x34bac0(0x1d7)](){const _0x4e0d2e=_0x34bac0;if(!falling){if(shift_key_pressed)this['x']=this[_0x4e0d2e(0x207)]+click_x-this['selected_x'];else cntrl_key_pressed?this['y']=this[_0x4e0d2e(0x245)]+click_y-this['selected_y']:(this['x']=this[_0x4e0d2e(0x207)]+click_x-this[_0x4e0d2e(0x279)],this['y']=this['initial_y']+click_y-this[_0x4e0d2e(0x28b)]);this[_0x4e0d2e(0x26d)]();let _0x12b20f=this[_0x4e0d2e(0x280)];this[_0x4e0d2e(0x280)]=0x0,this[_0x4e0d2e(0x28a)](_0x12b20f),this[_0x4e0d2e(0x240)](),updated=![];}}[_0x34bac0(0x221)](){const _0x5e61fa=_0x34bac0;if(!falling){this[_0x5e61fa(0x26d)]();let _0x756ba=this[_0x5e61fa(0x280)];this[_0x5e61fa(0x280)]=0x0,this['transform'](_0x756ba),updated=![];}}['render'](){const _0x2d42c0=_0x34bac0;context[_0x2d42c0(0x26e)]=_0x2d42c0(0x1f1),context[_0x2d42c0(0x1e1)]();for(let _0xbf5c8d of this[_0x2d42c0(0x292)]){context[_0x2d42c0(0x252)](_0xbf5c8d['x'],_0xbf5c8d['y']);}context[_0x2d42c0(0x1db)](),context[_0x2d42c0(0x26e)]=_0x2d42c0(0x25b),context[_0x2d42c0(0x1e1)]();for(let _0x1aa899 of this[_0x2d42c0(0x234)]){context[_0x2d42c0(0x252)](_0x1aa899['x'],_0x1aa899['y']);}context[_0x2d42c0(0x1db)](),context[_0x2d42c0(0x260)]=_0x2d42c0(0x211),context[_0x2d42c0(0x1e1)]();for(let _0x2ea121 of this[_0x2d42c0(0x292)]){context[_0x2d42c0(0x252)](_0x2ea121['x'],_0x2ea121['y']);}context[_0x2d42c0(0x252)](this[_0x2d42c0(0x292)][0x0]['x'],this['points'][0x0]['y']),context[_0x2d42c0(0x29d)](),context[_0x2d42c0(0x1e1)]();for(let _0x56c33a of this['blue_points']){context['lineTo'](_0x56c33a['x'],_0x56c33a['y']);}context[_0x2d42c0(0x252)](this[_0x2d42c0(0x234)][0x0]['x'],this[_0x2d42c0(0x234)][0x0]['y']),context['stroke'](),context[_0x2d42c0(0x26e)]=_0x2d42c0(0x211),context[_0x2d42c0(0x1e1)](),context[_0x2d42c0(0x23b)](this['x'],this['y'],this[_0x2d42c0(0x25d)],0x0,0x2*Math['PI'],![]),context[_0x2d42c0(0x1db)]();}['select'](){const _0x3101a4=_0x34bac0;this[_0x3101a4(0x233)]=!![],this[_0x3101a4(0x279)]=click_x,this['selected_y']=click_y,this[_0x3101a4(0x207)]=this['x'],this[_0x3101a4(0x245)]=this['y'];}[_0x34bac0(0x202)](){this['selected']=![];}[_0x34bac0(0x28a)](_0x513fa8){const _0x1f757f=_0x34bac0;let _0xe2115d=_0x513fa8-this[_0x1f757f(0x280)];this[_0x1f757f(0x280)]=_0x513fa8;let _0x12c006;for(let _0x1e1181 of this[_0x1f757f(0x292)]){_0x1e1181['x']-=this['x'],_0x1e1181['y']-=this['y'],_0x12c006=_0x1e1181['x'],_0x1e1181['x']=_0x1e1181['x']*Math[_0x1f757f(0x232)](toRadian(_0xe2115d))-_0x1e1181['y']*Math['sin'](toRadian(_0xe2115d)),_0x1e1181['y']=_0x12c006*Math[_0x1f757f(0x296)](toRadian(_0xe2115d))+_0x1e1181['y']*Math[_0x1f757f(0x232)](toRadian(_0xe2115d)),_0x1e1181['x']+=this['x'],_0x1e1181['y']+=this['y'];}for(let _0x579c10 of this['blue_points']){_0x579c10['x']-=this['x'],_0x579c10['y']-=this['y'],_0x12c006=_0x579c10['x'],_0x579c10['x']=_0x579c10['x']*Math[_0x1f757f(0x232)](toRadian(_0xe2115d))-_0x579c10['y']*Math[_0x1f757f(0x296)](toRadian(_0xe2115d)),_0x579c10['y']=_0x12c006*Math['sin'](toRadian(_0xe2115d))+_0x579c10['y']*Math[_0x1f757f(0x232)](toRadian(_0xe2115d)),_0x579c10['x']+=this['x'],_0x579c10['y']+=this['y'];}}[_0x34bac0(0x26d)](){const _0x4f5e09=_0x34bac0;this[_0x4f5e09(0x292)]=[{'x':this['x']-this[_0x4f5e09(0x294)]/0x2,'y':this['y']-this['height']/0x2},{'x':this['x']+this['width']/0x2,'y':this['y']-this['height']/0x2},{'x':this['x']+this[_0x4f5e09(0x294)]/0x2,'y':this['y']+this[_0x4f5e09(0x285)]/0x2},{'x':this['x']-this[_0x4f5e09(0x294)]/0x2,'y':this['y']+this[_0x4f5e09(0x285)]/0x2}],this[_0x4f5e09(0x234)]=[{'x':this['x']-this[_0x4f5e09(0x294)]/0x2,'y':this['y']-this['height']/0x2},{'x':this['x']+this[_0x4f5e09(0x294)]/0x2,'y':this['y']-this[_0x4f5e09(0x285)]/0x2},{'x':this['x']+this[_0x4f5e09(0x294)]/0x2,'y':this['y']},{'x':this['x']-this[_0x4f5e09(0x294)]/0x2,'y':this['y']}];}[_0x34bac0(0x251)](){const _0x1b80d5=_0x34bac0;this[_0x1b80d5(0x237)]=this['x'],this[_0x1b80d5(0x286)]=this['y'],this[_0x1b80d5(0x263)]=this[_0x1b80d5(0x280)],this['current_k']=-0x1,this[_0x1b80d5(0x1e5)]=this['x'],this[_0x1b80d5(0x25f)]=this['y'],this[_0x1b80d5(0x1fe)]=time,this[_0x1b80d5(0x227)]=0x0;}[_0x34bac0(0x201)](){const _0x3b0dd1=_0x34bac0;this[_0x3b0dd1(0x21a)]=0x0,this[_0x3b0dd1(0x25c)]=0x0,this['angle']=0x0,this['x']=this[_0x3b0dd1(0x237)],this['y']=this[_0x3b0dd1(0x286)],this[_0x3b0dd1(0x240)](),this[_0x3b0dd1(0x26d)](),this[_0x3b0dd1(0x28a)](this[_0x3b0dd1(0x263)]),updated=![];}['insidePipe'](){const _0x3cd30f=_0x34bac0;if(this['x']>pipe[_0x3cd30f(0x292)][0x0]['x']&&this['x']<pipe[_0x3cd30f(0x292)][0x1]['x']){if(pipe[_0x3cd30f(0x292)][0x0]['y']<this['y']&&this['y']<pipe['points'][0x0]['y']+0x3*pipe['height']/0xc)return 0x1;else{if(pipe[_0x3cd30f(0x292)][0x0]['y']+0x3*pipe['height']/0xc<this['y']&&this['y']<pipe[_0x3cd30f(0x292)][0x0]['y']+0x7*pipe[_0x3cd30f(0x285)]/0xc)return 0x2;else{if(pipe['points'][0x0]['y']+0x7*pipe[_0x3cd30f(0x285)]/0xc<this['y']&&this['y']<pipe[_0x3cd30f(0x292)][0x0]['y']+pipe[_0x3cd30f(0x285)])return 0x3;}}}return 0x0;}[_0x34bac0(0x297)](){const _0x17007b=_0x34bac0;let _0x25b8b2=0x2710,_0x3105a8=-0x2710;for(let _0xde555c=0x0;_0xde555c<this[_0x17007b(0x292)][_0x17007b(0x21c)];_0xde555c++){if(this[_0x17007b(0x292)][_0xde555c]['y']<_0x25b8b2)_0x25b8b2=this['points'][_0xde555c]['y'];if(this[_0x17007b(0x292)][_0xde555c]['y']>_0x3105a8)_0x3105a8=this[_0x17007b(0x292)][_0xde555c]['y'];}for(let _0xf8ce3d=0x0;_0xf8ce3d<this[_0x17007b(0x292)]['length'];_0xf8ce3d++){if(this[_0x17007b(0x234)][_0xf8ce3d]['y']<_0x25b8b2)_0x25b8b2=this[_0x17007b(0x234)][_0xf8ce3d]['y'];if(this[_0x17007b(0x234)][_0xf8ce3d]['y']>_0x3105a8)_0x3105a8=this[_0x17007b(0x234)][_0xf8ce3d]['y'];}if(_0x25b8b2>pipe[_0x17007b(0x292)][0x2]['y']||_0x3105a8<pipe[_0x17007b(0x292)][0x1]['y'])return![];let _0x203dc8=0x2710,_0x437244=-0x2710;for(let _0x55fb60=0x0;_0x55fb60<this[_0x17007b(0x292)][_0x17007b(0x21c)];_0x55fb60++){if(this['points'][_0x55fb60]['x']<_0x203dc8)_0x203dc8=this[_0x17007b(0x292)][_0x55fb60]['x'];if(this[_0x17007b(0x292)][_0x55fb60]['x']>_0x437244)_0x437244=this['points'][_0x55fb60]['x'];}for(let _0x21585d=0x0;_0x21585d<this['points'][_0x17007b(0x21c)];_0x21585d++){if(this[_0x17007b(0x234)][_0x21585d]['x']<_0x203dc8)_0x203dc8=this[_0x17007b(0x234)][_0x21585d]['x'];if(this[_0x17007b(0x234)][_0x21585d]['x']>_0x437244)_0x437244=this['blue_points'][_0x21585d]['x'];}if(pipe[_0x17007b(0x292)][0x0]['x']>_0x203dc8&&pipe[_0x17007b(0x292)][0x0]['x']<_0x437244)return!![];if(pipe['points'][0x1]['x']>_0x203dc8&&pipe[_0x17007b(0x292)][0x1]['x']<_0x437244)return!![];return![];}[_0x34bac0(0x24a)](_0x1183e9,_0x5ddfad,_0x39a53e,_0x432371){let _0x3c0510=_0x432371-_0x1183e9;return _0x5ddfad+(0x1/0x2*gravity*_0x3c0510*_0x3c0510+_0x39a53e*_0x3c0510)/scaling_factor;}[_0x34bac0(0x1d4)](_0x554e45,_0x2c9215,_0x86b9c6,_0x30aa07){let _0x725d3a=_0x30aa07-_0x554e45;return _0x86b9c6+gravity*_0x725d3a;}[_0x34bac0(0x23e)](_0x1e17a2,_0x37193f,_0x418d1c,_0x25727b){return _0x1e17a2+0x1/gravity*(Math['sqrt'](_0x418d1c*_0x418d1c+0x2*gravity*(_0x25727b-_0x37193f)*scaling_factor)-_0x418d1c);}['dampedFall_distance'](_0x175536,_0x263017,_0x190f5a,_0x56cef2,_0x1dd985){const _0x1a44bc=_0x34bac0;let _0x4a0d3d=_0x1dd985-_0x263017,_0x427f08=_0x175536*_0x4a0d3d/this[_0x1a44bc(0x20f)]>0x28?0x0:Math[_0x1a44bc(0x1d8)](-_0x175536*_0x4a0d3d/this[_0x1a44bc(0x20f)]);return _0x190f5a+(this['mass']*gravity*_0x4a0d3d/_0x175536+this[_0x1a44bc(0x20f)]/_0x175536*(_0x56cef2-this['mass']*gravity/_0x175536)*(0x1-_0x427f08))/scaling_factor;}[_0x34bac0(0x28d)](_0x23204e,_0x5931d7,_0x4acebe,_0x4c7d8f,_0x30025c){const _0x528e77=_0x34bac0;let _0x12af6c=_0x30025c-_0x5931d7,_0x4ac16f=_0x23204e*_0x12af6c/this['mass']>0x28?0x0:Math['exp'](-_0x23204e*_0x12af6c/this['mass']);return(_0x4c7d8f-this[_0x528e77(0x20f)]*gravity/_0x23204e)*_0x4ac16f+this['mass']*gravity/_0x23204e;}[_0x34bac0(0x282)](_0x5cc8f7,_0x4bdec8,_0x12ea9a,_0x471ef6,_0x389144,_0x43dc5c,_0xbb56b5){const _0x14d04d=_0x34bac0;let _0x48a309=(_0x43dc5c+_0xbb56b5)/0x2,_0x6e382d=this[_0x14d04d(0x290)](_0x5cc8f7,_0x4bdec8,_0x12ea9a,_0x471ef6,_0x43dc5c)-_0x389144,_0x10688e=this['dampedFall_distance'](_0x5cc8f7,_0x4bdec8,_0x12ea9a,_0x471ef6,_0xbb56b5)-_0x389144,_0x169830=this[_0x14d04d(0x290)](_0x5cc8f7,_0x4bdec8,_0x12ea9a,_0x471ef6,_0x48a309)-_0x389144;while(_0xbb56b5-_0x43dc5c>0xa**-0x6){_0x6e382d*_0x169830>0x0?(_0x6e382d=_0x169830,_0x43dc5c=_0x48a309):(_0x10688e=_0x169830,_0xbb56b5=_0x48a309),_0x48a309=(_0x43dc5c+_0xbb56b5)/0x2,_0x169830=this['dampedFall_distance'](_0x5cc8f7,_0x4bdec8,_0x12ea9a,_0x471ef6,_0x48a309)-_0x389144;}return _0xbb56b5;}[_0x34bac0(0x235)](){const _0x1f7e37=_0x34bac0;let _0x278cea=this[_0x1f7e37(0x1ff)](),_0x2fbf8d=this[_0x1f7e37(0x297)](),_0x5c5ebd=0x0;if(0x1<=_0x278cea&&_0x278cea<0x4&&!_0x2fbf8d){if(_0x278cea==0x1)_0x5c5ebd=1.96;else _0x278cea==0x3&&(_0x5c5ebd=5.88);}this['segment_x0']=this['x'],this[_0x1f7e37(0x25f)]=this['y'],this['current_k']=_0x5c5ebd,this[_0x1f7e37(0x1fe)]=time,this['segment_v0y']=0x0,this[_0x1f7e37(0x25c)]=0x0;}[_0x34bac0(0x219)](){const _0x247ee2=_0x34bac0;let _0x137a77,_0x66a262,_0x238268,_0x123f98,_0x279c53,_0x5e3c66=this['y'],_0x378715=this[_0x247ee2(0x1ff)](),_0x5ca314=this[_0x247ee2(0x297)]();if(!_0x5ca314){let _0x486087=this[_0x247ee2(0x231)];_0x486087!==0x0?(_0x137a77=this[_0x247ee2(0x290)](_0x486087,this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this['segment_v0y'],time),_0x123f98=this[_0x247ee2(0x28d)](_0x486087,this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],time)):(_0x137a77=this[_0x247ee2(0x24a)](this['segment_t0'],this['segment_y0'],this[_0x247ee2(0x227)],time),_0x123f98=this[_0x247ee2(0x1d4)](this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],time));let _0x5c884c=this['isInsidePipe'](this['x'],_0x137a77);if(_0x5c884c!==_0x378715){if(_0x378715==0x0)_0x66a262=pipe[_0x247ee2(0x292)][0x0]['y'];else{if(_0x378715==0x1)_0x66a262=pipe[_0x247ee2(0x292)][0x0]['y']+0x3*pipe[_0x247ee2(0x285)]/0xc;else{if(_0x378715==0x2)_0x66a262=pipe['points'][0x0]['y']+0x7*pipe['height']/0xc;else{if(_0x378715==0x3)_0x66a262=pipe[_0x247ee2(0x292)][0x0]['y']+pipe[_0x247ee2(0x285)];}}}_0x486087!=0x0?_0x279c53=this[_0x247ee2(0x282)](_0x486087,this['segment_t0'],this['segment_y0'],this[_0x247ee2(0x227)],_0x66a262,time-0x1/fps,time):_0x279c53=this[_0x247ee2(0x23e)](this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],_0x66a262);_0x486087!==0x0?(_0x137a77=this[_0x247ee2(0x290)](_0x486087,this[_0x247ee2(0x1fe)],this['segment_y0'],this['segment_v0y'],_0x279c53),_0x123f98=this[_0x247ee2(0x28d)](_0x486087,this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],_0x279c53)):(_0x137a77=this[_0x247ee2(0x24a)](this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],_0x279c53),_0x123f98=this[_0x247ee2(0x1d4)](this['segment_t0'],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],_0x279c53));this['segment_t0']=_0x279c53,this['segment_x0']=this['x'],this[_0x247ee2(0x25f)]=_0x137a77,this[_0x247ee2(0x227)]=_0x123f98,_0x378715=_0x5c884c,_0x486087=0x0;if(0x1<=_0x378715&&_0x378715<0x4&&!_0x5ca314){if(_0x378715==0x1)_0x486087=1.96;else _0x378715==0x3&&(_0x486087=5.88);}this[_0x247ee2(0x231)]=_0x486087,_0x486087!==0x0?(_0x137a77=this[_0x247ee2(0x290)](_0x486087,this['segment_t0'],this[_0x247ee2(0x25f)],this['segment_v0y'],time),_0x123f98=this[_0x247ee2(0x28d)](_0x486087,this[_0x247ee2(0x1fe)],this['segment_y0'],this['segment_v0y'],time)):(_0x137a77=this[_0x247ee2(0x24a)](this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this[_0x247ee2(0x227)],time),_0x123f98=this[_0x247ee2(0x1d4)](this[_0x247ee2(0x1fe)],this[_0x247ee2(0x25f)],this['segment_v0y'],time));}}else falling=![],_0x137a77=this['y'],_0x123f98=0x0;this['y']=_0x137a77,this[_0x247ee2(0x25c)]=_0x123f98;this['y']+this[_0x247ee2(0x285)]/0x2>canvas_height?(this['y']=canvas_height-this[_0x247ee2(0x285)]/0x2,this[_0x247ee2(0x220)]=!![],this[_0x247ee2(0x25c)]=0x0,this[_0x247ee2(0x227)]=0x0,falling=![]):this[_0x247ee2(0x220)]=![];for(let _0x4d2bcc of this[_0x247ee2(0x292)])_0x4d2bcc['y']+=this['y']-_0x5e3c66;for(let _0x122e5e of this[_0x247ee2(0x234)])_0x122e5e['y']+=this['y']-_0x5e3c66;updated=![];}[_0x34bac0(0x22e)](_0x5e47a2,_0x3d0345){const _0x4d20c1=_0x34bac0;if(_0x5e47a2>pipe['points'][0x0]['x']&&_0x5e47a2<pipe[_0x4d20c1(0x292)][0x1]['x']){if(pipe['points'][0x0]['y']<_0x3d0345&&_0x3d0345<pipe[_0x4d20c1(0x292)][0x0]['y']+0x3*pipe[_0x4d20c1(0x285)]/0xc)return 0x1;else{if(pipe[_0x4d20c1(0x292)][0x0]['y']+0x3*pipe[_0x4d20c1(0x285)]/0xc<_0x3d0345&&_0x3d0345<pipe[_0x4d20c1(0x292)][0x0]['y']+0x7*pipe[_0x4d20c1(0x285)]/0xc)return 0x2;else{if(pipe[_0x4d20c1(0x292)][0x0]['y']+0x7*pipe[_0x4d20c1(0x285)]/0xc<_0x3d0345&&_0x3d0345<pipe[_0x4d20c1(0x292)][0x0]['y']+pipe[_0x4d20c1(0x285)])return 0x3;}}}return 0x0;}['checkOnGround'](){const _0x5d518b=_0x34bac0;this['y']+this[_0x5d518b(0x285)]/0x2>canvas_height?this['on_ground']=!![]:this['on_ground']=![];}}class Magnetometer{constructor(_0x526fe5,_0x246ec8){const _0x305ce4=_0x34bac0;this[_0x305ce4(0x210)]=_0x526fe5/scaling_factor+mob[_0x305ce4(0x292)][0x0]['x']-mob['x'],this[_0x305ce4(0x29a)]=_0x246ec8/scaling_factor+mob[_0x305ce4(0x292)][0x0]['y']-mob['y'],this['x']=0x0,this['y']=0x0,this[_0x305ce4(0x25d)]=0x0,this[_0x305ce4(0x1d7)](),this[_0x305ce4(0x280)]=0x0;}[_0x34bac0(0x1d7)](){const _0x659a35=_0x34bac0;this['x']=mob['x']+this[_0x659a35(0x210)],this['y']=mob['y']+this['relative_y'];}[_0x34bac0(0x28a)](_0x5ef4ce){const _0x585bb0=_0x34bac0;let _0x48484a=_0x5ef4ce-this[_0x585bb0(0x280)];this['angle']=_0x5ef4ce;let _0x3c1d20=this[_0x585bb0(0x210)];this[_0x585bb0(0x210)]=this['relative_x']*Math[_0x585bb0(0x232)](toRadian(_0x48484a))-this[_0x585bb0(0x29a)]*Math['sin'](toRadian(_0x48484a)),this['relative_y']=_0x3c1d20*Math[_0x585bb0(0x296)](toRadian(_0x48484a))+this[_0x585bb0(0x29a)]*Math['cos'](toRadian(_0x48484a)),this[_0x585bb0(0x1d7)]();}['render'](){const _0x24bca3=_0x34bac0;context[_0x24bca3(0x26e)]='#000000',context[_0x24bca3(0x1e1)](),context[_0x24bca3(0x23b)](this['x'],this['y'],this[_0x24bca3(0x25d)],0x0,0x2*Math['PI'],![]),context['fill']();}}class Mobile{constructor(_0x5d36e5,_0x59e6c2,_0x44591d,_0x1a194f){const _0x2f360b=_0x34bac0;this['x']=_0x5d36e5,this['y']=_0x59e6c2,this[_0x2f360b(0x294)]=_0x44591d/scaling_factor,this['height']=_0x1a194f/scaling_factor,this[_0x2f360b(0x269)]=0x4/0x96*this[_0x2f360b(0x285)],this[_0x2f360b(0x29b)]=0x1/0xf*this[_0x2f360b(0x285)],this[_0x2f360b(0x1eb)]=0xe/0x96*this[_0x2f360b(0x285)],this[_0x2f360b(0x24b)]={'x':this['x'],'y':this['y']+0x44/0x96*this[_0x2f360b(0x285)]},this[_0x2f360b(0x238)]=0x5/0x96*this[_0x2f360b(0x285)],this[_0x2f360b(0x291)]={'x':this['x'],'y':this['y']-0x46/0x96*this['height']},this['cameraradius']=0x2/0x96*this[_0x2f360b(0x285)],this[_0x2f360b(0x1ed)]=[],this[_0x2f360b(0x292)]=[],this['makeRect'](),this[_0x2f360b(0x233)]=![],this[_0x2f360b(0x207)]=0x0,this[_0x2f360b(0x245)]=0x0,this[_0x2f360b(0x279)]=0x0,this[_0x2f360b(0x28b)]=0x0,this[_0x2f360b(0x280)]=0x0,this[_0x2f360b(0x20b)]=0.005/scaling_factor,this['arrow_1']={'start_x':0x0,'start_y':0x0,'end_x':0x0,'end_y':0x0},this['arrow_2']={'start_x':0x0,'start_y':0x0,'end_x':0x0,'end_y':0x0},this[_0x2f360b(0x293)]={'x':0x0,'y':0x0},this[_0x2f360b(0x1d9)]={'x':0x0,'y':0x0},this['makeArrows']();}[_0x34bac0(0x1d7)](){const _0x5db1ea=_0x34bac0;this['x']=this[_0x5db1ea(0x207)]+click_x-this['selected_x'],this['y']=this[_0x5db1ea(0x245)]+click_y-this[_0x5db1ea(0x28b)],this[_0x5db1ea(0x28f)]();let _0x5154cd=this[_0x5db1ea(0x280)];this['angle']=0x0,this[_0x5db1ea(0x28a)](_0x5154cd),magnetometer[_0x5db1ea(0x1d7)](),updated=![],this[_0x5db1ea(0x276)]();}['render'](){const _0xf2868c=_0x34bac0;context[_0xf2868c(0x260)]=_0xf2868c(0x211),context[_0xf2868c(0x26e)]='rgba(128,128,128,0.5)',context['beginPath'](),context['moveTo'](this[_0xf2868c(0x292)][0x3]['x'],this[_0xf2868c(0x292)][0x3]['y']);for(let _0x125db9 of this[_0xf2868c(0x292)]){context[_0xf2868c(0x252)](_0x125db9['x'],_0x125db9['y']);}context[_0xf2868c(0x1db)](),context[_0xf2868c(0x29d)](),context['beginPath'](),context[_0xf2868c(0x23c)](this['screenpoints'][0x3]['x'],this[_0xf2868c(0x1ed)][0x3]['y']);for(let _0x25bd39 of this['screenpoints']){context[_0xf2868c(0x252)](_0x25bd39['x'],_0x25bd39['y']);}context[_0xf2868c(0x29d)](),context[_0xf2868c(0x1e1)](),context[_0xf2868c(0x23b)](this[_0xf2868c(0x24b)]['x'],this[_0xf2868c(0x24b)]['y'],this['buttonradius'],0x0,0x2*Math['PI']),context[_0xf2868c(0x29d)](),context[_0xf2868c(0x26e)]=_0xf2868c(0x211),context[_0xf2868c(0x1e1)](),context[_0xf2868c(0x23b)](this[_0xf2868c(0x291)]['x'],this[_0xf2868c(0x291)]['y'],this[_0xf2868c(0x1f5)],0x0,0x2*Math['PI']),context[_0xf2868c(0x1db)](),context[_0xf2868c(0x29d)](),drawArrow(this[_0xf2868c(0x29c)]),drawArrow(this[_0xf2868c(0x26f)]),context[_0xf2868c(0x1f0)]=_0xf2868c(0x250),context[_0xf2868c(0x228)]('B',this[_0xf2868c(0x293)]['x'],this[_0xf2868c(0x293)]['y']),context[_0xf2868c(0x228)]('B',this[_0xf2868c(0x1ef)]['x']-0x5,this['y_label']['y']),context[_0xf2868c(0x1f0)]=_0xf2868c(0x22c),context[_0xf2868c(0x228)]('w',this[_0xf2868c(0x293)]['x']+0xf,this[_0xf2868c(0x293)]['y']+0xa),context[_0xf2868c(0x228)]('l',this[_0xf2868c(0x1ef)]['x']+0xc-0x5,this[_0xf2868c(0x1ef)]['y']+0xa);}[_0x34bac0(0x2a7)](){const _0xb9dbc9=_0x34bac0;this[_0xb9dbc9(0x233)]=!![],this['selected_x']=click_x,this[_0xb9dbc9(0x28b)]=click_y,this[_0xb9dbc9(0x207)]=this['x'],this[_0xb9dbc9(0x245)]=this['y'];}['drop'](){const _0xe0b21c=_0x34bac0;this[_0xe0b21c(0x233)]=![];}['transform'](_0x2103de){const _0x1bfba2=_0x34bac0;let _0xfd5909=_0x2103de-this[_0x1bfba2(0x280)];this[_0x1bfba2(0x280)]=_0x2103de;let _0xd47caa;for(let _0x108c9f of this[_0x1bfba2(0x292)]){_0x108c9f['x']-=this['x'],_0x108c9f['y']-=this['y'],_0xd47caa=_0x108c9f['x'],_0x108c9f['x']=_0x108c9f['x']*Math[_0x1bfba2(0x232)](toRadian(_0xfd5909))-_0x108c9f['y']*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909)),_0x108c9f['y']=_0xd47caa*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909))+_0x108c9f['y']*Math[_0x1bfba2(0x232)](toRadian(_0xfd5909)),_0x108c9f['x']+=this['x'],_0x108c9f['y']+=this['y'];}for(let _0x864ca3 of this[_0x1bfba2(0x1ed)]){_0x864ca3['x']-=this['x'],_0x864ca3['y']-=this['y'],_0xd47caa=_0x864ca3['x'],_0x864ca3['x']=_0x864ca3['x']*Math['cos'](toRadian(_0xfd5909))-_0x864ca3['y']*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909)),_0x864ca3['y']=_0xd47caa*Math['sin'](toRadian(_0xfd5909))+_0x864ca3['y']*Math['cos'](toRadian(_0xfd5909)),_0x864ca3['x']+=this['x'],_0x864ca3['y']+=this['y'];}let _0x57a2ec=this[_0x1bfba2(0x24b)];_0x57a2ec['x']-=this['x'],_0x57a2ec['y']-=this['y'],_0xd47caa=_0x57a2ec['x'],_0x57a2ec['x']=_0x57a2ec['x']*Math[_0x1bfba2(0x232)](toRadian(_0xfd5909))-_0x57a2ec['y']*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909)),_0x57a2ec['y']=_0xd47caa*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909))+_0x57a2ec['y']*Math[_0x1bfba2(0x232)](toRadian(_0xfd5909)),_0x57a2ec['x']+=this['x'],_0x57a2ec['y']+=this['y'],this[_0x1bfba2(0x24b)]=_0x57a2ec,_0x57a2ec=this[_0x1bfba2(0x291)],_0x57a2ec['x']-=this['x'],_0x57a2ec['y']-=this['y'],_0xd47caa=_0x57a2ec['x'],_0x57a2ec['x']=_0x57a2ec['x']*Math['cos'](toRadian(_0xfd5909))-_0x57a2ec['y']*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909)),_0x57a2ec['y']=_0xd47caa*Math[_0x1bfba2(0x296)](toRadian(_0xfd5909))+_0x57a2ec['y']*Math[_0x1bfba2(0x232)](toRadian(_0xfd5909)),_0x57a2ec['x']+=this['x'],_0x57a2ec['y']+=this['y'],this[_0x1bfba2(0x291)]=_0x57a2ec,this[_0x1bfba2(0x276)]();}[_0x34bac0(0x28f)](){const _0xb258f6=_0x34bac0;this[_0xb258f6(0x292)]=[{'x':this['x']-this[_0xb258f6(0x294)]/0x2,'y':this['y']-this['height']/0x2},{'x':this['x']+this[_0xb258f6(0x294)]/0x2,'y':this['y']-this[_0xb258f6(0x285)]/0x2},{'x':this['x']+this['width']/0x2,'y':this['y']+this[_0xb258f6(0x285)]/0x2},{'x':this['x']-this[_0xb258f6(0x294)]/0x2,'y':this['y']+this['height']/0x2}],this[_0xb258f6(0x1ed)]=[{'x':this['x']-this['width']/0x2+this[_0xb258f6(0x269)],'y':this['y']-this[_0xb258f6(0x285)]/0x2+this[_0xb258f6(0x29b)]},{'x':this['x']+this[_0xb258f6(0x294)]/0x2-this[_0xb258f6(0x269)],'y':this['y']-this[_0xb258f6(0x285)]/0x2+this[_0xb258f6(0x29b)]},{'x':this['x']+this[_0xb258f6(0x294)]/0x2-this[_0xb258f6(0x269)],'y':this['y']+this[_0xb258f6(0x285)]/0x2-this[_0xb258f6(0x1eb)]},{'x':this['x']-this[_0xb258f6(0x294)]/0x2+this[_0xb258f6(0x269)],'y':this['y']+this[_0xb258f6(0x285)]/0x2-this[_0xb258f6(0x1eb)]}],this[_0xb258f6(0x24b)]={'x':this['x'],'y':this['y']+0x44/0x96*this[_0xb258f6(0x285)]},this[_0xb258f6(0x291)]={'x':this['x'],'y':this['y']-0x46/0x96*this[_0xb258f6(0x285)]};}[_0x34bac0(0x276)](){const _0x127e66=_0x34bac0;context['strokeStyle']='#000000',context[_0x127e66(0x26e)]='#000000';let _0x1bf07=this[_0x127e66(0x292)][0x1]['x']-this[_0x127e66(0x292)][0x0]['x'],_0x495cad=this[_0x127e66(0x292)][0x1]['y']-this[_0x127e66(0x292)][0x0]['y'],_0x5df796=0x1*Math['PI']/0x2,_0x1dfb01=_0x1bf07*Math['cos'](_0x5df796)+_0x495cad*Math['sin'](_0x5df796),_0x238966=-_0x1bf07*Math['sin'](_0x5df796)+_0x495cad*Math['cos'](_0x5df796),_0x4ba17d=Math['sqrt'](_0x1dfb01*_0x1dfb01+_0x238966*_0x238966),_0x10609c=_0x1dfb01/_0x4ba17d*0.005/scaling_factor,_0x4e3fb1=_0x238966/_0x4ba17d*0.005/scaling_factor,_0x2f48ae=0.03*Math[_0x127e66(0x232)](this[_0x127e66(0x280)]*Math['PI']/0xb4)/scaling_factor,_0x8ac58f=0.03*Math['sin'](this[_0x127e66(0x280)]*Math['PI']/0xb4)/scaling_factor;this[_0x127e66(0x29c)]={'start_x':this[_0x127e66(0x292)][0x0]['x']+_0x10609c,'start_y':this[_0x127e66(0x292)][0x0]['y']+_0x4e3fb1,'end_x':this[_0x127e66(0x292)][0x0]['x']+_0x10609c+_0x2f48ae,'end_y':this['points'][0x0]['y']+_0x4e3fb1+_0x8ac58f},this[_0x127e66(0x293)]={'x':this[_0x127e66(0x29c)][_0x127e66(0x2a6)]+0.01*Math[_0x127e66(0x232)](this['angle']*Math['PI']/0xb4)/scaling_factor,'y':this[_0x127e66(0x29c)]['end_y']+0.01*Math[_0x127e66(0x296)](this[_0x127e66(0x280)]*Math['PI']/0xb4)/scaling_factor},_0x5df796=Math['PI'],_0x1dfb01=_0x1bf07*Math[_0x127e66(0x232)](_0x5df796)+_0x495cad*Math[_0x127e66(0x296)](_0x5df796),_0x238966=-_0x1bf07*Math[_0x127e66(0x296)](_0x5df796)+_0x495cad*Math[_0x127e66(0x232)](_0x5df796),_0x4ba17d=Math[_0x127e66(0x2a4)](_0x1dfb01*_0x1dfb01+_0x238966*_0x238966),_0x10609c=_0x1dfb01/_0x4ba17d*0.005/scaling_factor,_0x4e3fb1=_0x238966/_0x4ba17d*0.005/scaling_factor,_0x2f48ae=0.03*Math['cos'](this[_0x127e66(0x280)]*Math['PI']/0xb4+Math['PI']/0x2)/scaling_factor,_0x8ac58f=0.03*Math[_0x127e66(0x296)](this[_0x127e66(0x280)]*Math['PI']/0xb4+Math['PI']/0x2)/scaling_factor,this[_0x127e66(0x26f)]={'start_x':this[_0x127e66(0x292)][0x0]['x']+_0x10609c,'start_y':this[_0x127e66(0x292)][0x0]['y']+_0x4e3fb1,'end_x':this[_0x127e66(0x292)][0x0]['x']+_0x10609c+_0x2f48ae,'end_y':this['points'][0x0]['y']+_0x4e3fb1+_0x8ac58f},this['y_label']={'x':this[_0x127e66(0x26f)][_0x127e66(0x2a6)]+0.01*Math[_0x127e66(0x232)](this[_0x127e66(0x280)]*Math['PI']/0xb4+Math['PI']/0x2)/scaling_factor,'y':this[_0x127e66(0x26f)][_0x127e66(0x24d)]+0.01*Math[_0x127e66(0x296)](this[_0x127e66(0x280)]*Math['PI']/0xb4+Math['PI']/0x2)/scaling_factor};}}function drawArrow(_0x1c7117){const _0x49376f=_0x34bac0;from_x=_0x1c7117['start_x'],from_y=_0x1c7117['start_y'],to_x=_0x1c7117['end_x'],to_y=_0x1c7117[_0x49376f(0x24d)];let _0x272833=0xa,_0x156a8c=to_x-from_x,_0x24c524=to_y-from_y,_0xfa9404=Math[_0x49376f(0x248)](_0x24c524,_0x156a8c);context['beginPath'](),context['moveTo'](from_x,from_y),context[_0x49376f(0x252)](to_x,to_y),context[_0x49376f(0x252)](to_x-_0x272833*Math[_0x49376f(0x232)](_0xfa9404-Math['PI']/0x6),to_y-_0x272833*Math[_0x49376f(0x296)](_0xfa9404-Math['PI']/0x6)),context[_0x49376f(0x23c)](to_x,to_y),context[_0x49376f(0x252)](to_x-_0x272833*Math[_0x49376f(0x232)](_0xfa9404+Math['PI']/0x6),to_y-_0x272833*Math[_0x49376f(0x296)](_0xfa9404+Math['PI']/0x6)),context['stroke']();}function getMagn(_0x25aa6e,_0x586cd6){const _0x711e5b=_0x34bac0;return Math[_0x711e5b(0x2a4)](_0x25aa6e*_0x25aa6e+_0x586cd6*_0x586cd6);}class Pipe{constructor(_0x3b91bb,_0x556e24,_0x362466,_0x306f7b){const _0x28daf1=_0x34bac0;this['x']=_0x3b91bb,this['y']=_0x556e24,this[_0x28daf1(0x294)]=_0x362466/scaling_factor,this[_0x28daf1(0x285)]=_0x306f7b/scaling_factor,this[_0x28daf1(0x292)]=[],this['blue_points']=[],this[_0x28daf1(0x26d)](),this[_0x28daf1(0x233)]=![],this[_0x28daf1(0x207)]=0x0,this['initial_y']=0x0,this[_0x28daf1(0x279)]=0x0,this['selected_y']=0x0,this[_0x28daf1(0x280)]=0x0;}[_0x34bac0(0x1d7)](){const _0x3655d1=_0x34bac0;this['x']=this[_0x3655d1(0x207)]+click_x-this[_0x3655d1(0x279)],this['y']=this[_0x3655d1(0x245)]+click_y-this[_0x3655d1(0x28b)],this['makeRects']();let _0x1ff4dc=this[_0x3655d1(0x280)];this[_0x3655d1(0x280)]=0x0,this[_0x3655d1(0x28a)](_0x1ff4dc),updated=![];}['render'](){const _0x27df0b=_0x34bac0;context[_0x27df0b(0x26e)]=_0x27df0b(0x22d);var _0x54b67a=context[_0x27df0b(0x2a5)](this['points'][0x0]['x'],0x0,this[_0x27df0b(0x292)][0x1]['x'],0x0);_0x54b67a[_0x27df0b(0x203)](0x0,'black'),_0x54b67a[_0x27df0b(0x203)](0.5,_0x27df0b(0x1fb)),_0x54b67a[_0x27df0b(0x203)](0x1,_0x27df0b(0x2a0)),context[_0x27df0b(0x26e)]=_0x54b67a,context[_0x27df0b(0x1e1)](),context[_0x27df0b(0x23c)](this['points'][0x3]['x'],this['points'][0x3]['y']);for(let _0x583c74 of this[_0x27df0b(0x292)]){context[_0x27df0b(0x252)](_0x583c74['x'],_0x583c74['y']);}context[_0x27df0b(0x1db)](),context[_0x27df0b(0x29d)]();}[_0x34bac0(0x2a7)](){const _0xf847a9=_0x34bac0;this['selected']=!![],this['selected_x']=click_x,this[_0xf847a9(0x28b)]=click_y,this['initial_x']=this['x'],this[_0xf847a9(0x245)]=this['y'];}[_0x34bac0(0x202)](){const _0x304c81=_0x34bac0;this[_0x304c81(0x233)]=![];}[_0x34bac0(0x28a)](_0x579e02){const _0x360287=_0x34bac0;let _0x3e6d30=_0x579e02-this[_0x360287(0x280)];this[_0x360287(0x280)]=_0x579e02;let _0x2122c6;for(let _0x4db973 of this['points']){_0x4db973['x']-=this['x'],_0x4db973['y']-=this['y'],_0x2122c6=_0x4db973['x'],_0x4db973['x']=_0x4db973['x']*Math['cos'](toRadian(_0x3e6d30))-_0x4db973['y']*Math['sin'](toRadian(_0x3e6d30)),_0x4db973['y']=_0x2122c6*Math[_0x360287(0x296)](toRadian(_0x3e6d30))+_0x4db973['y']*Math[_0x360287(0x232)](toRadian(_0x3e6d30)),_0x4db973['x']+=this['x'],_0x4db973['y']+=this['y'];}for(let _0x5a51cf of this['blue_points']){_0x5a51cf['x']-=this['x'],_0x5a51cf['y']-=this['y'],_0x2122c6=_0x5a51cf['x'],_0x5a51cf['x']=_0x5a51cf['x']*Math['cos'](toRadian(_0x3e6d30))-_0x5a51cf['y']*Math[_0x360287(0x296)](toRadian(_0x3e6d30)),_0x5a51cf['y']=_0x2122c6*Math[_0x360287(0x296)](toRadian(_0x3e6d30))+_0x5a51cf['y']*Math[_0x360287(0x232)](toRadian(_0x3e6d30)),_0x5a51cf['x']+=this['x'],_0x5a51cf['y']+=this['y'];}}[_0x34bac0(0x26d)](){const _0x2f5b24=_0x34bac0;this[_0x2f5b24(0x292)]=[{'x':this['x']-this[_0x2f5b24(0x294)]/0x2,'y':this['y']-this[_0x2f5b24(0x285)]/0x2},{'x':this['x']+this[_0x2f5b24(0x294)]/0x2,'y':this['y']-this[_0x2f5b24(0x285)]/0x2},{'x':this['x']+this[_0x2f5b24(0x294)]/0x2,'y':this['y']+this['height']/0x2},{'x':this['x']-this[_0x2f5b24(0x294)]/0x2,'y':this['y']+this[_0x2f5b24(0x285)]/0x2}],this[_0x2f5b24(0x234)]=[{'x':this['x']-this[_0x2f5b24(0x294)]/0x2,'y':this['y']-this['height']/0x2},{'x':this['x']+this[_0x2f5b24(0x294)]/0x2,'y':this['y']-this['height']/0x2},{'x':this['x']+this['width']/0x2,'y':this['y']-this[_0x2f5b24(0x285)]/0x2},{'x':this['x']-this[_0x2f5b24(0x294)]/0x2,'y':this['y']}];}}class Scale{constructor(_0x5e9399,_0x5a666f,_0x104499,_0x34cf7f){const _0x1f0c0e=_0x34bac0;this['x']=_0x5e9399,this['y']=_0x5a666f,this[_0x1f0c0e(0x294)]=_0x104499/scaling_factor,this[_0x1f0c0e(0x285)]=_0x34cf7f/scaling_factor,this[_0x1f0c0e(0x1e6)]=0.002/scaling_factor,this[_0x1f0c0e(0x292)]=[],this[_0x1f0c0e(0x218)]=[],this[_0x1f0c0e(0x2a1)]=[],this['makeRect'](),this[_0x1f0c0e(0x233)]=![],this[_0x1f0c0e(0x215)]=![],this[_0x1f0c0e(0x207)]=0x0,this[_0x1f0c0e(0x245)]=0x0,this[_0x1f0c0e(0x279)]=0x0,this[_0x1f0c0e(0x28b)]=0x0,this[_0x1f0c0e(0x25e)]=0x0,this[_0x1f0c0e(0x26b)]=0x0,this[_0x1f0c0e(0x280)]=0x0;}['update'](){const _0x31c3cf=_0x34bac0;if(this[_0x31c3cf(0x233)]){this['x']=this[_0x31c3cf(0x207)]+click_x-this['selected_x'],this['y']=this[_0x31c3cf(0x245)]+click_y-this[_0x31c3cf(0x28b)],this[_0x31c3cf(0x28f)]();let _0x53ee22=this[_0x31c3cf(0x280)];this[_0x31c3cf(0x280)]=0x0,this[_0x31c3cf(0x28a)](_0x53ee22);}else{if(this[_0x31c3cf(0x215)]){let _0x37fffc=toDegree(Math[_0x31c3cf(0x248)](click_y-this['y'],click_x-this['x'])),_0x276566=this['initialangle']+_0x37fffc-this[_0x31c3cf(0x25e)];_0x276566<0x0&&(_0x276566+=0x168),scale_angle['value']=Math[_0x31c3cf(0x23d)](_0x276566),this['makeRect'](),this[_0x31c3cf(0x280)]=0x0,this[_0x31c3cf(0x28a)](_0x276566);}}updated=![];}[_0x34bac0(0x278)](){const _0x31925b=_0x34bac0;if(show_scale){context['strokeStyle']='#000000',context[_0x31925b(0x1e1)](),context[_0x31925b(0x23c)](this['points'][0x3]['x'],this[_0x31925b(0x292)][0x3]['y']);for(let _0x37d631 of this['points']){context[_0x31925b(0x252)](_0x37d631['x'],_0x37d631['y']);}for(let _0x2c5d8a of this[_0x31925b(0x218)]){context[_0x31925b(0x23c)](_0x2c5d8a['x1'],_0x2c5d8a['y1']),context[_0x31925b(0x252)](_0x2c5d8a['x2'],_0x2c5d8a['y2']);}context[_0x31925b(0x29d)]();}}[_0x34bac0(0x2a7)](){const _0x544f45=_0x34bac0;this['selected']=!![],this['selected_x']=click_x,this[_0x544f45(0x28b)]=click_y,this[_0x544f45(0x207)]=this['x'],this[_0x544f45(0x245)]=this['y'];}['rotateselect'](){const _0x54f699=_0x34bac0;this[_0x54f699(0x215)]=!![],this[_0x54f699(0x279)]=click_x,this[_0x54f699(0x28b)]=click_y,this[_0x54f699(0x207)]=this['x'],this[_0x54f699(0x245)]=this['y'],this[_0x54f699(0x26b)]=this[_0x54f699(0x280)],this[_0x54f699(0x25e)]=toDegree(Math[_0x54f699(0x248)](this[_0x54f699(0x28b)]-this['y'],this[_0x54f699(0x279)]-this['x']));}[_0x34bac0(0x202)](){const _0x20e587=_0x34bac0;this['selected']=![],this[_0x20e587(0x215)]=![];}['transform'](_0x1aec2f){const _0x23dafa=_0x34bac0;let _0x2048de=_0x1aec2f-this[_0x23dafa(0x280)];this[_0x23dafa(0x280)]=_0x1aec2f;let _0x5a44e9;for(let _0x46000e of this[_0x23dafa(0x292)]){_0x46000e['x']-=this['x'],_0x46000e['y']-=this['y'],_0x5a44e9=_0x46000e['x'],_0x46000e['x']=_0x46000e['x']*Math['cos'](toRadian(_0x2048de))-_0x46000e['y']*Math[_0x23dafa(0x296)](toRadian(_0x2048de)),_0x46000e['y']=_0x5a44e9*Math[_0x23dafa(0x296)](toRadian(_0x2048de))+_0x46000e['y']*Math['cos'](toRadian(_0x2048de)),_0x46000e['x']+=this['x'],_0x46000e['y']+=this['y'];}for(let _0x5aa9b1 of this[_0x23dafa(0x2a1)]){_0x5aa9b1['x']-=this['x'],_0x5aa9b1['y']-=this['y'],_0x5a44e9=_0x5aa9b1['x'],_0x5aa9b1['x']=_0x5aa9b1['x']*Math[_0x23dafa(0x232)](toRadian(_0x2048de))-_0x5aa9b1['y']*Math['sin'](toRadian(_0x2048de)),_0x5aa9b1['y']=_0x5a44e9*Math[_0x23dafa(0x296)](toRadian(_0x2048de))+_0x5aa9b1['y']*Math['cos'](toRadian(_0x2048de)),_0x5aa9b1['x']+=this['x'],_0x5aa9b1['y']+=this['y'];}for(let _0x186acc of this[_0x23dafa(0x218)]){_0x186acc['x1']-=this['x'],_0x186acc['y1']-=this['y'],_0x186acc['x2']-=this['x'],_0x186acc['y2']-=this['y'],_0x5a44e9=_0x186acc['x1'],_0x186acc['x1']=_0x186acc['x1']*Math[_0x23dafa(0x232)](toRadian(_0x2048de))-_0x186acc['y1']*Math[_0x23dafa(0x296)](toRadian(_0x2048de)),_0x186acc['y1']=_0x5a44e9*Math['sin'](toRadian(_0x2048de))+_0x186acc['y1']*Math[_0x23dafa(0x232)](toRadian(_0x2048de)),_0x5a44e9=_0x186acc['x2'],_0x186acc['x2']=_0x186acc['x2']*Math['cos'](toRadian(_0x2048de))-_0x186acc['y2']*Math[_0x23dafa(0x296)](toRadian(_0x2048de)),_0x186acc['y2']=_0x5a44e9*Math[_0x23dafa(0x296)](toRadian(_0x2048de))+_0x186acc['y2']*Math['cos'](toRadian(_0x2048de)),_0x186acc['x1']+=this['x'],_0x186acc['y1']+=this['y'],_0x186acc['x2']+=this['x'],_0x186acc['y2']+=this['y'];}}['makeRect'](){const _0x5e9523=_0x34bac0;this[_0x5e9523(0x292)]=[{'x':this['x']-this['width']/0x2,'y':this['y']-this[_0x5e9523(0x285)]/0x2},{'x':this['x']+this['width']/0x2,'y':this['y']-this[_0x5e9523(0x285)]/0x2},{'x':this['x']+this[_0x5e9523(0x294)]/0x2,'y':this['y']+this[_0x5e9523(0x285)]/0x2},{'x':this['x']-this[_0x5e9523(0x294)]/0x2,'y':this['y']+this[_0x5e9523(0x285)]/0x2}];for(let _0x58fd3c=0x1;_0x58fd3c<this[_0x5e9523(0x285)]/this[_0x5e9523(0x1e6)];_0x58fd3c++){this[_0x5e9523(0x218)][_0x58fd3c-0x1]=_0x58fd3c%0x5==0x0?{'x1':this['x'],'y1':this['y']+_0x58fd3c*this[_0x5e9523(0x1e6)]-this[_0x5e9523(0x285)]/0x2,'x2':this['x']+this[_0x5e9523(0x294)]/0x2,'y2':this['y']+_0x58fd3c*this[_0x5e9523(0x1e6)]-this[_0x5e9523(0x285)]/0x2}:{'x1':this['x']+this[_0x5e9523(0x294)]/0x4,'y1':this['y']+_0x58fd3c*this[_0x5e9523(0x1e6)]-this[_0x5e9523(0x285)]/0x2,'x2':this['x']+this['width']/0x2,'y2':this['y']+_0x58fd3c*this[_0x5e9523(0x1e6)]-this['height']/0x2};}this['cornerpts']=[{'x':this['x']-this[_0x5e9523(0x294)]/0x2,'y':this['y']-this[_0x5e9523(0x285)]/0x2},{'x':this['x']+this[_0x5e9523(0x294)]/0x2,'y':this['y']-this[_0x5e9523(0x285)]/0x2},{'x':this['x']+this['width']/0x2,'y':this['y']-this[_0x5e9523(0x285)]/0x2+0xa},{'x':this['x']-this[_0x5e9523(0x294)]/0x2,'y':this['y']-this[_0x5e9523(0x285)]/0x2+0xa}];}}let mob,magnet,magnetometer,pipe,scale,scaling_factor,constant_part,dipole_moment,gravity,dt,magnetism_multiplier,distance_multiplier,Bx_values=[],By_values=[],B_crit=0x1964,timestamps=[],magnet_x_values=[],magnet_y_values=[],datatable=[],graph=undefined,falling,measuring,show_scale,B_x,B_y,time,start_time,end_time;function dropMagnet(){const _0x37571a=_0x34bac0;!falling&&(magnet['backupPosition'](),falling=!![],magnet[_0x37571a(0x235)](),drop_button[_0x37571a(0x1de)]=!![]);}function resetMeasurements(){Bx_values=[],By_values=[],magnet_x_values=[],magnet_y_values=[],timestamps=[],datatable=[],time=0x0;}function resetMagnet(){const _0x537ed=_0x34bac0;drop_button[_0x537ed(0x1de)]=![],falling=![],magnet[_0x537ed(0x201)]();}function update(){const _0x184b7e=_0x34bac0;let _0x1e7ed7=getDistance(magnet['x'],magnet['y'],magnetometer['x'],magnetometer['y'])*distance_multiplier,_0x58915e=(magnetometer['x']-magnet['x'])*distance_multiplier,_0x57a77e=(magnetometer['y']-magnet['y'])*distance_multiplier,_0x219b51=Math[_0x184b7e(0x296)](toRadian(magnet[_0x184b7e(0x280)])),_0x2bfc35=-Math[_0x184b7e(0x232)](toRadian(magnet[_0x184b7e(0x280)])),_0x13f32e=getDotProduct(_0x58915e,_0x219b51,_0x57a77e,_0x2bfc35);b_display['innerHTML']='',B_x=constant_part*dipole_moment*(0x3*_0x13f32e*_0x58915e/Math[_0x184b7e(0x265)](_0x1e7ed7,0x5)-_0x219b51/Math[_0x184b7e(0x265)](_0x1e7ed7,0x3))*magnetism_multiplier,B_y=constant_part*dipole_moment*(0x3*_0x13f32e*_0x57a77e/Math[_0x184b7e(0x265)](_0x1e7ed7,0x5)-_0x2bfc35/Math[_0x184b7e(0x265)](_0x1e7ed7,0x3))*magnetism_multiplier;if(getMagn(B_x,B_y)>B_crit)error_display[_0x184b7e(0x1dd)][_0x184b7e(0x200)]=_0x184b7e(0x209),B_x=NaN,B_y=NaN;else{error_display[_0x184b7e(0x1dd)][_0x184b7e(0x200)]=_0x184b7e(0x29e);let _0x130ffb=Number[_0x184b7e(0x236)](mob_angle[_0x184b7e(0x298)]);Number[_0x184b7e(0x277)](_0x130ffb)&&(_0x130ffb=0x0);let _0x53d5d6=toRadian(_0x130ffb),_0x482240=Math[_0x184b7e(0x232)](_0x53d5d6)*B_x+Math[_0x184b7e(0x296)](_0x53d5d6)*B_y,_0x224270=-Math[_0x184b7e(0x296)](_0x53d5d6)*B_x+Math[_0x184b7e(0x232)](_0x53d5d6)*B_y;B_x=_0x482240,B_y=_0x224270,b_display[_0x184b7e(0x295)]+='B<sub>w</sub>:\x20'+clampNumber(B_x['toFixed'](0x2))+_0x184b7e(0x1f9)+clampNumber(B_y[_0x184b7e(0x2a2)](0x2))+'\x20μT';}}function render(){const _0x841255=_0x34bac0;context[_0x841255(0x26e)]=_0x841255(0x20e),context['fillRect'](0x0,0x0,canvas_width,canvas_height),drawGrid(),mob['render'](),magnetometer[_0x841255(0x278)](),magnet['render'](),scale['render'](),pipe[_0x841255(0x278)]();}function updateParams(_0x273319){const _0x48dea0=_0x34bac0;if(_0x273319==_0x48dea0(0x1da)){let _0x7ca62d=Number[_0x48dea0(0x236)](mob_angle[_0x48dea0(0x298)]);Number[_0x48dea0(0x277)](_0x7ca62d)&&(_0x7ca62d=0x0),_0x7ca62d=Math[_0x48dea0(0x284)](_0x7ca62d),mob[_0x48dea0(0x28a)](_0x7ca62d),magnetometer[_0x48dea0(0x28a)](_0x7ca62d),updated=![];}if(_0x273319==_0x48dea0(0x259)){let _0x16a601=Number[_0x48dea0(0x236)](magnet_angle[_0x48dea0(0x298)]);Number[_0x48dea0(0x277)](_0x16a601)&&(_0x16a601=0x0),_0x16a601=Math[_0x48dea0(0x284)](_0x16a601),_0x16a601=_0x16a601[_0x48dea0(0x2a2)](0x0),magnet[_0x48dea0(0x28a)](_0x16a601),updated=![];}if(_0x273319==_0x48dea0(0x283)){let _0x58cf27=Number[_0x48dea0(0x236)](scale_angle[_0x48dea0(0x298)]);Number[_0x48dea0(0x277)](_0x58cf27)&&(_0x58cf27=0x0),_0x58cf27=Math[_0x48dea0(0x284)](_0x58cf27),scale['transform'](Number[_0x48dea0(0x236)](_0x58cf27)),updated=![];}_0x273319==_0x48dea0(0x246)&&(start_time=Number[_0x48dea0(0x206)](simul_start_time_input['value']),drawGraph(start_time,end_time),updated=![]),_0x273319==_0x48dea0(0x29f)&&(end_time=Number[_0x48dea0(0x206)](simul_end_time_input['value']),drawGraph(start_time,end_time),updated=![]);}function _0x2d06(_0x5c31d3,_0x596629){const _0x19f730=_0x19f7();return _0x2d06=function(_0x2d0640,_0x361a4a){_0x2d0640=_0x2d0640-0x1d4;let _0xb126a=_0x19f730[_0x2d0640];return _0xb126a;},_0x2d06(_0x5c31d3,_0x596629);}function initParams(){const _0x3904e0=_0x34bac0;canvas_size=0.2,distance_multiplier=canvas_size/canvas_width,scaling_factor=distance_multiplier,magnetism_multiplier=Math[_0x3904e0(0x265)](0xa,0x6);let _0x298b41=0.07,_0x19fc14=0.15,_0x414f9d=0x4,_0x4b5900=0x4,_0x61c0f9=(_0x414f9d*0.01+_0x298b41/0x2)/scaling_factor,_0x49fcaa=(_0x4b5900*0.01+_0x19fc14/0x2)/scaling_factor,_0x5e26a8=0.06,_0x37708e=0.01,_0x1b23b4=0.12,_0x4f5c3b=0.01,_0x3040b7=_0x61c0f9+(0.03+_0x298b41/0x2)/scaling_factor,_0x4fa1f5=canvas_height/0x2,_0x223b7b=0.005,_0x114dc5=0.0025;mob=new Mobile(_0x61c0f9,_0x49fcaa,_0x298b41,_0x19fc14),magnet=new Magnet(_0x3040b7,_0x4fa1f5,_0x114dc5,_0x223b7b),magnetometer=new Magnetometer(_0x5e26a8,_0x37708e),pipe=new Pipe(0.1765/scaling_factor,0.0458/scaling_factor+canvas_height/0x2,_0x4f5c3b,_0x1b23b4),scale=new Scale(0x3*canvas_width/0x5,canvas_height/0x2,0.02,0.15),mob_angle[_0x3904e0(0x298)]=0x0,updateParams(_0x3904e0(0x1da)),magnet_angle['value']=0x0,updateParams(_0x3904e0(0x259)),scale_angle[_0x3904e0(0x298)]=0x0,updateParams(_0x3904e0(0x283)),start_time=0x0,simul_start_time_input[_0x3904e0(0x298)]=start_time,end_time=0x78,simul_end_time_input[_0x3904e0(0x298)]=end_time,constant_part=Math['pow'](0xa,-0x7),dipole_moment=0x2,gravity=9.8,dt=0x1/fps,initGraph(),context['font']=Math[_0x3904e0(0x284)](0.01/scaling_factor)+_0x3904e0(0x23a),context[_0x3904e0(0x1fc)]=_0x3904e0(0x1f2);}function drawGrid(){const _0x32d478=_0x34bac0;context[_0x32d478(0x260)]=_0x32d478(0x216);let _0x5ceb4d=0x0;while(_0x5ceb4d<canvas_width){context[_0x32d478(0x1e1)](),context[_0x32d478(0x23c)](_0x5ceb4d,0x0),context['lineTo'](_0x5ceb4d,canvas_height),context[_0x32d478(0x29d)](),_0x5ceb4d+=0.01/scaling_factor;}_0x5ceb4d=0x0;while(_0x5ceb4d<canvas_height){context[_0x32d478(0x1e1)](),context[_0x32d478(0x23c)](0x0,_0x5ceb4d),context['lineTo'](canvas_width,_0x5ceb4d),context[_0x32d478(0x29d)](),_0x5ceb4d+=0.01/scaling_factor;}}let fine_factor=0x1,finify=0x2,zoom_in_counter=0x3,zoom_out_counter=0x3;function clicked(){const _0x4c9ced=_0x34bac0;if(insidePolygon(click_x,click_y,magnet[_0x4c9ced(0x292)]))magnet[_0x4c9ced(0x2a7)]();else{if(show_scale&&insidePolygon(click_x,click_y,scale['cornerpts']))scale['rotateselect']();else{if(show_scale&&insidePolygon(click_x,click_y,scale[_0x4c9ced(0x292)]))scale[_0x4c9ced(0x2a7)]();else{if(insidePolygon(click_x,click_y,mob[_0x4c9ced(0x292)]))mob[_0x4c9ced(0x2a7)]();else insidePolygon(click_x,click_y,pipe['points'])&&pipe['select']();}}}}function moved(){const _0x3488f5=_0x34bac0;if(magnet[_0x3488f5(0x233)])magnet[_0x3488f5(0x1d7)](),falling=![];else{if(scale['selected']||scale[_0x3488f5(0x215)])scale[_0x3488f5(0x1d7)]();else{if(mob[_0x3488f5(0x233)])mob[_0x3488f5(0x1d7)]();else{if(pipe[_0x3488f5(0x233)])pipe[_0x3488f5(0x1d7)]();else{if(show_scale&&insidePolygon(click_x,click_y,scale[_0x3488f5(0x2a1)]))document[_0x3488f5(0x20c)]('canvas')[_0x3488f5(0x1dd)][_0x3488f5(0x267)]=_0x3488f5(0x225);else show_scale&&insidePolygon(click_x,click_y,scale[_0x3488f5(0x292)])?document[_0x3488f5(0x20c)]('canvas')[_0x3488f5(0x1dd)]['cursor']=_0x3488f5(0x287):document['getElementById']('canvas')['style'][_0x3488f5(0x267)]=_0x3488f5(0x21f);}}}}}function finer(){const _0x45710b=_0x34bac0;fine_factor*=finify,zoom_in_counter-=0x1,zoom_out_counter+=0x1,zoom_in_counter>0x0?document['getElementById'](_0x45710b(0x27c))['disabled']=![]:document[_0x45710b(0x20c)](_0x45710b(0x28c))['disabled']=!![];}function coarser(){const _0x5b3d2d=_0x34bac0;fine_factor/=finify,zoom_out_counter-=0x1,zoom_in_counter+=0x1,zoom_out_counter>0x0?document[_0x5b3d2d(0x20c)](_0x5b3d2d(0x28c))[_0x5b3d2d(0x1de)]=![]:document[_0x5b3d2d(0x20c)]('coarser-button')[_0x5b3d2d(0x1de)]=!![];}function released(){const _0x2a4558=_0x34bac0;if(magnet[_0x2a4558(0x233)])magnet['drop']();else{if(mob[_0x2a4558(0x233)])mob['drop']();else pipe[_0x2a4558(0x233)]&&pipe[_0x2a4558(0x202)]();}(scale['selected']||scale[_0x2a4558(0x215)])&&scale[_0x2a4558(0x202)]();}function keyPressed(_0x203952){const _0x4e7eec=_0x34bac0;switch(_0x203952){case _0x4e7eec(0x261):magnet['x']-=0.0002/scaling_factor/fine_factor;break;case _0x4e7eec(0x26c):magnet['x']+=0.0002/scaling_factor/fine_factor;break;case _0x4e7eec(0x1e4):magnet['y']-=0.0002/scaling_factor/fine_factor;break;case'ArrowDown':magnet['y']+=0.0002/scaling_factor/fine_factor;break;}magnet[_0x4e7eec(0x221)](),updated=![];}function keyReleased(_0x473b22){}function toDegree(_0x20e89a){return _0x20e89a*0xb4/Math['PI'];}function toRadian(_0x58b07a){return _0x58b07a*Math['PI']/0xb4;}function strokeRect(_0x4b9bd8){const _0x2f385c=_0x34bac0;context[_0x2f385c(0x299)](_0x4b9bd8['x'],_0x4b9bd8['y'],_0x4b9bd8[_0x2f385c(0x294)],_0x4b9bd8['height']);}function insideRect(_0x3ff952,_0x57bc40,_0x3ac6b1){return _0x3ff952['x']<_0x57bc40&&_0x57bc40<_0x3ff952['x']+_0x3ff952['width']&&_0x3ff952['y']<_0x3ac6b1&&_0x3ac6b1<_0x3ff952['y']+_0x3ff952['height'];}function _0x19f7(){const _0x1c0f1f=['px\x20Times\x20New\x20Roman','arc','moveTo','trunc','freeFall_time','keydown','checkOnGround','push','Scale\x20Factor\x20=\x20','.csv','6369136Lyxbdg','initial_y','simul-start-time-input','4AJZcin','atan2','scale-button','freeFall_distance','buttoncenter','Time:\x20','end_y','setTimeout','canvas','30px\x20calibri','backupPosition','lineTo','time','489030KUfaye','Magentometer\x20Location\x20:\x20,','6264186ejJOmC','touchmove','graph-canvas','magnet-angle','K\x20values\x20in\x20pipe,\x201.96,\x200.00,\x205.88\x20\x0a','#ff1818','velocity','radius','selectedangle','segment_y0','strokeStyle','ArrowLeft','cntrlKey','backup_angle','measure-button','pow','mousemove','cursor','#00ff00','sidebezel','3039MGHIVD','initialangle','ArrowRight','makeRects','fillStyle','arrow_2','forEach','\x20μT','calibri','Magnet\x20in\x20Pipe\x20Simulation\x20Data\x0a','key','white','makeArrows','isNaN','render','selected_x','addEventListener','B_w\x20(in\x20μT)','coarser-button','Hide\x20Scale','Pause\x20Measurement','clientX','angle','createElement','dampedFall_time','scale-angle','floor','height','backup_y','move','max','mousedown','transform','selected_y','finer-button','dampedFall_velocity','mouseleave','makeRect','dampedFall_distance','cameracenter','points','x_label','width','innerHTML','sin','colliding','value','strokeRect','relative_y','topbezel','arrow_1','stroke','none','simul-end-time-input','black','cornerpts','toFixed','parsed','sqrt','createLinearGradient','end_x','select','freeFall_velocity','Start\x20Measurement','innerWidth','update','exp','ylabel','mob-angle','fill','test','style','disabled','b-display','download','beginPath','dispatchEvent','scatter','ArrowUp','segment_x0','least_count','error-display','mouseup','innerHeight','mouseenter','bottombezel','275LdJSOX','screenpoints','keyup','y_label','font','#1f51ff','center','left','_blank','cameraradius','touches','data','touchend','\x20μT\x20<br>\x20B<sub>l</sub>:\x20','Show\x20Scale','#888888','textAlign','href','segment_t0','insidePipe','display','resetPosition','drop','addColorStop','2990tqDgAe','shiftKey','parseFloat','initial_x','text/csv','block','target','arrow_deviation','getElementById','getContext','#ffffff','mass','relative_x','#000000','touchstart','\x20s,\x20B:\x20','clientY','rotateselected','rgba(0,0,0,0.2)','destroy','ticks','fall','acceleration','slice','length','toString','B_l\x20(in\x20μT)','default','on_ground','updateonarrowkeys','205002GcQbDv','userAgent','Magnetic\x20field\x20(μT)','crosshair','10145023SLUsrB','segment_v0y','fillText','9vgLlEd','top','ceil','20px\x20calibri','#FFFFFF','isInsidePipe','min','2491855sobjjE','current_k','cos','selected','blue_points','initFall','parseInt','backup_x','buttonradius','Time\x20(s)'];_0x19f7=function(){return _0x1c0f1f;};return _0x19f7();}function getDistance(_0x2c6b01,_0x20daee,_0x53eeeb,_0xf47d9){const _0x5dfa22=_0x34bac0;return Math['sqrt'](Math[_0x5dfa22(0x265)](_0x53eeeb-_0x2c6b01,0x2)+Math['pow'](_0xf47d9-_0x20daee,0x2));}function getMagn(_0x54b885,_0xa283a8){return Math['sqrt'](_0x54b885*_0x54b885+_0xa283a8*_0xa283a8);}function getDotProduct(_0x578e2b,_0x313efe,_0x4e6481,_0x29e7e3){return _0x578e2b*_0x313efe+_0x4e6481*_0x29e7e3;}const clamp=(_0x311520,_0x48aedc,_0xea1986)=>Math['max'](Math[_0x34bac0(0x22f)](_0x311520,Math[_0x34bac0(0x288)](_0x48aedc,_0xea1986)),Math[_0x34bac0(0x22f)](_0x48aedc,_0xea1986)),clampNumber=_0xacd5a4=>clamp(_0xacd5a4,-B_crit,B_crit);function insidePolygon(_0x222d6c,_0x28397c,_0x30acf6){const _0x5d274e=_0x34bac0;let _0x34bbda,_0x50e786,_0x1a1abe,_0x2d074f,_0x4e9c1a=_0x222d6c,_0x3dd12f=_0x28397c,_0x5104f4=0x64*canvas_width,_0x52685c=0x64*canvas_height,_0x3a9502,_0xaadd42,_0x51f73a,_0x1a288d=0x0;for(let _0x225276=0x1;_0x225276<=_0x30acf6[_0x5d274e(0x21c)];_0x225276++){if(_0x225276<_0x30acf6[_0x5d274e(0x21c)])_0x34bbda=_0x30acf6[_0x225276-0x1]['x'],_0x50e786=_0x30acf6[_0x225276-0x1]['y'],_0x1a1abe=_0x30acf6[_0x225276]['x'],_0x2d074f=_0x30acf6[_0x225276]['y'];else _0x225276==_0x30acf6[_0x5d274e(0x21c)]&&(_0x34bbda=_0x30acf6[_0x225276-0x1]['x'],_0x50e786=_0x30acf6[_0x225276-0x1]['y'],_0x1a1abe=_0x30acf6[0x0]['x'],_0x2d074f=_0x30acf6[0x0]['y']);_0x51f73a=(_0x1a1abe-_0x34bbda)*(_0x3dd12f-_0x52685c)-(_0x4e9c1a-_0x5104f4)*(_0x2d074f-_0x50e786),_0x3a9502=(_0x4e9c1a-_0x34bbda)*(_0x3dd12f-_0x52685c)-(_0x4e9c1a-_0x5104f4)*(_0x3dd12f-_0x50e786),_0x3a9502/=_0x51f73a,_0xaadd42=(_0x1a1abe-_0x34bbda)*(_0x3dd12f-_0x50e786)-(_0x4e9c1a-_0x34bbda)*(_0x2d074f-_0x50e786),_0xaadd42/=_0x51f73a,0x0<_0x3a9502&&_0x3a9502<0x1&&0x0<_0xaadd42&&_0xaadd42<0x1&&_0x1a288d++;}return _0x1a288d%0x2==0x1;}